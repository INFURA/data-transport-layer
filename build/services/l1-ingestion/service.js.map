{"version":3,"file":"service.js","sourceRoot":"","sources":["../../../src/services/l1-ingestion/service.ts"],"names":[],"mappings":"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"}